# سكريپت استخراج بنية قاعدة البيانات
## Database Structure Extraction Script

### 📋 الوصف
سكريپت Laravel Artisan لاستخراج جميع الجداول والأعمدة من قاعدة البيانات SQL Server وحفظها في ملف نصي مفصل.

### 🚀 طرق التشغيل

#### 1. الطريقة الأساسية (Laravel Artisan)
```bash
php artisan db:extract-structure
```

#### 2. الطريقة السريعة (Windows Batch)
```cmd
extract_db.bat
```

#### 3. السكريپت المستقل
```bash
php quick_db_extract.php
```

### 📂 الملفات المُنتجة

#### `public/db.text` - التقرير الكامل
- بنية جميع الجداول (92 جدول)
- تفاصيل كل عمود مع نوع البيانات
- إحصائيات شاملة
- أكبر الجداول من ناحية عدد الأعمدة
- ملخص تفصيلي

#### `public/db_quick.text` - النسخة المختصرة
- قائمة الجداول والأعمدة فقط
- أسرع في الإنتاج والقراءة

### 📊 إحصائيات قاعدة البيانات RestoWinxo

- **إجمالي الجداول:** 92 جدول
- **إجمالي الأعمدة:** 951 عمود  
- **متوسط الأعمدة لكل جدول:** 10.34 عمود
- **أكبر جدول:** ROLE (174 عمود)
- **نوع قاعدة البيانات:** SQL Server

### 🔧 الميزات

✅ **استخراج شامل:** جميع الجداول والأعمدة  
✅ **معلومات مفصلة:** نوع البيانات، NULL/NOT NULL، القيم الافتراضية  
✅ **إحصائيات متقدمة:** ملخص وترتيب الجداول  
✅ **دعم متعدد اللغات:** واجهة عربية مع دعم UTF-8  
✅ **معالجة الأخطاء:** رسائل خطأ واضحة ومفصلة  
✅ **أداء محسن:** معالجة سريعة للجداول الكبيرة  

### 🛠️ المتطلبات

- PHP 8.2+
- Laravel 11+
- SQL Server Database
- اتصال صحيح بقاعدة البيانات في `.env`

### 📝 مثال على الناتج

```
=== بنية قاعدة البيانات: RestoWinxo ===
تاريخ الاستخراج: 2025-07-08 20:27:54
عدد الجداول: 92
نوع قاعدة البيانات: SQL Server
إجمالي الأعمدة: 951

الجدول: ARTICLE
----------------------------------------
عدد الأعمدة: 49
  - ART_REF (nvarchar(32)) NOT NULL
  - SFM_REF (nvarchar(32)) NOT NULL
  - ART_DESIGNATION (nvarchar(250)) NULL
  ...

ملخص إحصائي:
================================================================================
إجمالي عدد الجداول: 92
إجمالي عدد الأعمدة: 951
متوسط الأعمدة لكل جدول: 10.34

أكبر 10 جداول من ناحية عدد الأعمدة:
----------------------------------------
  1. ROLE (174 عمود)
  2. PARAMETRECAISSE (58 عمود)
  3. ARTICLE (49 عمود)
  ...
```

### 🔍 الجداول الرئيسية المكتشفة

| الجدول | الأعمدة | الوصف |
|--------|---------|-------|
| ROLE | 174 | أدوار وصلاحيات المستخدمين |
| PARAMETRECAISSE | 58 | إعدادات الصندوق |
| ARTICLE | 49 | بيانات المنتجات |
| CLIENT | 23 | بيانات العملاء |
| FOURNISSEUR | 24 | بيانات الموردين |
| FACTURE_VNT | 28 | فواتير المبيعات |
| STOCK | 8 | بيانات المخزون |

### 🎯 الاستخدامات

- **تحليل بنية قاعدة البيانات**
- **توثيق النظام**  
- **التطوير والصيانة**
- **النسخ الاحتياطي للبنية**
- **التحليل والتقارير**

### 📞 الدعم

للدعم والاستفسارات، راجع وثائق Laravel أو اتصل بفريق التطوير.

---
**تم تطويره ضمن نظام AccessPOS Pro**  
**Laravel Artisan Command: `db:extract-structure`**
